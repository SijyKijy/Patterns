# Декоратор / Обёртка (Decorator / Wrapper)
**Структурный паттерн** проектирования, который позволяет **динамически добавлять объектам новую функциональность (поведение)**, оборачивая их в полезные "обёртки"

Использует агрегацию вместо наследования

## Цель:
Динамически добавлять/подключать объектам новую функциональность не изменяя при этом сам объект целиком.

Т.е. **"оборачивать"** объект

## Пример
Надевая одежду на человека мы меняем только его внешний вид, а не его самого.

## Когда применять
* Когда нужно добавить обязанности объектам на лету, незаметно для кода
* Когда нельзя расширить обязанности объекта с помощью наследования

## Плюсы и минусы
+|-
----|----
Большая гибкость, чем у наследования, т.к. мы используем композицию либо агрегацию (частные случаи ассоциации) | Трудно настраивать (оборачивать) объекты, если много обязанностей (функциональностей)
Добавление обязанностей (фич) налету без изменения объекта | Много маленьких классов в программе
Можно добавить сразу несколько обязанностей |
Позволяет иметь несколько мелких объектов вместо одного объекта на все случаи жизни |

## Шаги реализации
1. Убедитесь, что в вашей задаче есть один основной компонент и несколько опциональных дополнений или надстроек над ним.
2. Создайте интерфейс компонента, который описывал бы общие методы как для основного компонента, так и для его дополнений.
3. Создайте класс конкретного компонента и поместите в него основную бизнес-логику.
4. Создайте базовый класс декораторов. Он должен иметь поле для хранения ссылки на вложенный объект-компонент. Все методы базового декоратора должны делегировать действие вложенному объекту.
5. И конкретный компонент, и базовый декоратор должны следовать одному и тому же интерфейсу компонента.
6. Теперь создайте классы конкретных декораторов, наследуя их от базового декоратора. Конкретный декоратор должен выполнять свою добавочную функцию, а затем (или перед этим) вызывать эту же операцию обёрнутого объекта.
7. Клиент берёт на себя ответственность за конфигурацию и порядок обёртывания объектов.

## Источник
[Подробнее тут](https://refactoring.guru/ru/design-patterns/decorator)

[Википедия](https://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BA%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80_(%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F))